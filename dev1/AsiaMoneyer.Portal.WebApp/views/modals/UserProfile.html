<div class="inmodal" ng-init="onload()">
    <md-tabs md-dynamic-height md-border-bottom>
        <md-tab label="Profile">
            <md-content class="md-padding">
                <form class="form-horizontal">
                    <div class="row">
                        <div class="col-md-4">
                            <img alt="{{UserProfile.FirstName}}" class="img-circle" ng-src="{{UserProfileDto.Photo}}" style="width:56px; height:56px;"></img>
                        </div>
                        <div class="col-md-8">
                            <div class="form-group"><label>Email</label> <input type="text" ng-model="UserProfileDto.EmailAddress" placeholder="Email" class="form-control" readonly></div>
                            <div class="form-group"><label>First Name</label> <input type="text" ng-model="UserProfileDto.FirstName" placeholder="First Name" class="form-control"></div>
                            <div class="form-group"><label>Last Name</label> <input type="text" ng-model=UserProfileDto.LastName placeholder="Last Name" class="form-control"></div>
                        </div>
                    </div>
                </form>
            </md-content>
        </md-tab>
        <md-tab label="Avatar">
            <md-content class="md-padding">
                <form class="form-horizontal">
                    <div ng-show="imageCropStep == 1">
                        <img ng-src="{{UserProfileDto.Photo}}"></img>
                        <br />
                        <input type="file" name="fileInput" id="fileInput" onchange="angular.element(this).scope().fileChanged(event)" />
                    </div>

                    <div ng-show="imageCropStep == 2">
                        <!-- <image-crop
                        data-height="200" //shape's height
                        data-width="150" //shape's width
                        data-shape="square" //the shape.. square or circle
                        data-step="imageCropStep"//scope variable that will contain the current step of the crop (1. Waiting for source image; 2. Image loaded, waiting for crop; 3. Crop done)
                        src="imgSrc" //scope variable that will be the source image for the crop (may be a Blob or base64 string)
                        data-result-blob="result" //scope variable that will contain the Blob information
                        data-result="resultDataUrl" //scope variable that will contain the image's base64 string representation
                        crop="initCrop" //scope variable that must be set to true when the image is ready to be cropped
                        padding="250" //space, in pixels, rounding the shape
                        max-size="1024" //max of the image, in pixels
                        ></image-crop> -->
                        <image-crop data-height="220"
                                    data-width="220"
                                    data-shape="circle"
                                    data-step="imageCropStep"
                                    src="imgSrc"
                                    data-result="UserProfileDto.Photo"
                                    data-result-blob="resultBlob"
                                    crop="initCrop"
                                    padding="80"
                                    max-size="1024"></image-crop>
                    </div>

                    <div ng-show="imageCropStep == 2">
                        <br />
                        <button ng-click="clear()">Cancel</button>
                        <button ng-click="initCrop = true">Crop</button>
                    </div>

                    <div ng-show="imageCropStep == 3">
                        <img ng-src="{{UserProfileDto.Photo}}"></img>
                        <button ng-click="clear()">Clear</button>
                    </div>
                </form>
            </md-content>
        </md-tab>
    </md-tabs>
    <div class="modal-footer">
        <div class="col-sm-2 col-xs-3">
        </div>
        <div class="col-sm-10 col-xs-9">
            <button type="button" class="btn btn-white" ng-click="cancel()">Close</button>
            <button type="button" class="btn btn-primary" ng-click="saveProfile()">Save</button>
        </div>
    </div>
</div>

